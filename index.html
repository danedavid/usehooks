<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-index-js.3277c80a525f7997aac8.css">code{color:inherit!important}</style><meta name="generator" content="Gatsby 2.0.118"/><style data-styled="gTgrQU eUaqYy jXPOjE gtWFaR fxMZjx jVuqWa dvaNkX laQaxx fRkwTE irKFRi emoXlK fgZMzm cTEpKZ" data-styled-version="4.1.3">
/* sc-component-id: EmailSignup__Title-sc-1nvqwun-0 */
.gtWFaR{margin-bottom:1.2rem;}
/* sc-component-id: EmailSignup__Extra-sc-1nvqwun-1 */
.fxMZjx{margin-top:1rem;font-size:0.8rem;opacity:0.7;}
/* sc-component-id: Layout__Logo-im5snh-0 */
.gTgrQU{-webkit-text-decoration:none;text-decoration:none;} .gTgrQU span{opacity:0.7;}
/* sc-component-id: Layout__InfoSection-im5snh-1 */
.eUaqYy{background-color:#e9fffc;}
/* sc-component-id: Layout__Container-im5snh-2 */
.jXPOjE{max-width:960px !important;}
/* sc-component-id: Layout__FooterLevel-im5snh-3 */
.cTEpKZ{margin:20px auto 0 auto;max-width:300px;} .cTEpKZ span{padding:0 0.8rem;opacity:0.6;} .cTEpKZ a:hover{-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: PaginationContainer-sc-1b99478-0 */
.fgZMzm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: post__Hook-sc-2e98dd-0 */
.jVuqWa{margin-bottom:4rem;}
/* sc-component-id: post__Name-sc-2e98dd-2 */
.dvaNkX{position:relative;} .dvaNkX .link-icon{display:none;position:absolute;left:-30px;top:10px;opacity:0.3;font-size:22px;} .dvaNkX a{color:inherit;} .dvaNkX:hover .link-icon{display:inline;}
/* sc-component-id: post__Content-sc-2e98dd-3 */
.laQaxx{margin-bottom:25px;}
/* sc-component-id: post__Links-sc-2e98dd-4 */
.fRkwTE{background-color:#f3f9f8;padding:25px;margin-top:15px;border-radius:10px;} .fRkwTE .links-title{margin-bottom:5px;font-weight:bold;}
/* sc-component-id: post__LinksLi-sc-2e98dd-5 */
.irKFRi{margin-bottom:5px;} .irKFRi:last-of-type{margin-bottom:0;}
/* sc-component-id: post__Info-sc-2e98dd-6 */
.emoXlK{margin:20px auto 0 auto;max-width:560px;} .emoXlK span{padding:0 0.5rem;opacity:0.2;}</style><title data-react-helmet="true">useHooks - Easy to understand React Hook recipes</title><link data-react-helmet="true" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css"/><link data-react-helmet="true" rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous"/><meta data-react-helmet="true" name="description" content="We bring you easy to understand React Hook code recipes so you can learn how React hooks work and feel more comfortable writing your own."/><meta data-react-helmet="true" name="keywords" content="react, javascript, hooks, useState, useEffect, tutorial, demo, code"/><meta data-react-helmet="true" property="og:image" content="https://usehooks.com/static/og-image-1a5ba20b067eb855f225829d737b37e5.png"/><meta data-react-helmet="true" property="og:title" content="useHooks"/><meta data-react-helmet="true" property="og:description" content="Easy to understand React Hook recipes"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><link rel="alternate" type="application/rss+xml" title="useHooks" href="/rss.xml"/><link as="script" rel="preload" href="/component---src-templates-index-js-3f4cacca266defdca369.js"/><link as="script" rel="preload" href="/app-70579be4799c1d6ff4af.js"/><link as="script" rel="preload" href="/1-bc194b54df00e517c61d.js"/><link as="script" rel="preload" href="/0-f605661e9cb8590cff89.js"/><link as="script" rel="preload" href="/webpack-runtime-cfd40930d26935043616.js"/><link as="fetch" rel="preload" href="/static/d/62/path---index-6a9-XeIDjV6ciO14I97F9Ki4mYaOc9M.json" crossOrigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><a class="is-hidden-mobile" target="blank" href="https://github.com/gragland/usehooks"><i class="fab fa-github" style="position:absolute;font-size:1.5rem;top:1rem;right:1rem;color:white"></i></a><div class="hero is-bold is-primary has-text-centered"><div class="hero-body"><h1 class="title is-size-2-mobile is-1 is-spaced has-text-weight-bold"><a aria-current="page" class="Layout__Logo-im5snh-0 gTgrQU" href="/">useHooks<span>(</span>üê†<span>)</span></a></h1><div class="subtitle is-size-6-mobile is-5">Easy to understand React Hook recipes by<!-- --> <a target="_blank" href="https://twitter.com/gabe_ragland" style="box-shadow:0 2px 0 0 rgba(255, 255, 255, 0.3);line-height:2">Gabe Ragland</a></div></div></div><section class="Layout__InfoSection-im5snh-1 section eUaqYy"><div class="Layout__Container-im5snh-2 container jXPOjE"><div class="columns is-vcentered "><div class="column is-6"><div class="title is-5">What all this about?</div><p><i>Hooks</i> are a new addition in React 16.8 that lets you use state and other React features without writing a class. This website provides easy to understand code examples to help you learn how hooks work and hopefully inspire you to take advantage of them in your next project. Be sure to check out the<!-- --> <a target="_blank" href="https://reactjs.org/docs/hooks-intro.html">official docs</a>. You can also submit post ideas in our<!-- --> <a target="_blank" href="https://github.com/gragland/usehooks">Github repo</a>.</p></div><div class="column is-offset-1"> <div class="card"><div class="card-content"><div class="EmailSignup__Title-sc-1nvqwun-0 subtitle is-5 gtWFaR">üì©¬†¬†Get new recipes in your inbox</div><form><div class="field has-addons"><div class="control is-expanded"><input type="email" class="input" placeholder="Your Email"/></div><div class="control"><button class="button is-primary has-text-weight-semibold" type="submit">Subscribe</button></div></div></form><div class="EmailSignup__Extra-sc-1nvqwun-1 fxMZjx">Join 2,713 subscribers. No spam ever.</div></div></div></div></div></div></section><div class="section"><div class="Layout__Container-im5snh-2 container jXPOjE"><div id="useLocalStorage" class="post__Hook-sc-2e98dd-0 jVuqWa"><h2 class="post__Name-sc-2e98dd-2 title is-3 dvaNkX"><i class="fas fa-link link-icon"></i><a href="/useLocalStorage/">useLocalStorage</a></h2><div class="post__Content-sc-2e98dd-3 laQaxx">Sync state to local storage so that it persists through a page refresh.
Usage is similar to useState except we pass in a local storage key so that we can
default to that value on page load instead of the specified initial value.</div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.5em;margin:.5em 0;overflow:auto;border-radius:10px"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc99cd">import</span> <span class="token" style="color:#ccc">{</span> useState <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">from</span> <span class="token" style="color:#7ec699">&#x27;react&#x27;</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Usage</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">App</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#999">// Similar to useState but first arg is key to the value in local storage.</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>name<span class="token" style="color:#ccc">,</span> setName<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useLocalStorage</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;name&#x27;</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#7ec699">&#x27;Bob&#x27;</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#67cdcc">&lt;</span>div<span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#67cdcc">&lt;</span>input
        type<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#7ec699">&quot;text&quot;</span>
        placeholder<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#7ec699">&quot;Enter your name&quot;</span>
        value<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span>name<span class="token" style="color:#ccc">}</span>
        onChange<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span>e <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#f08d49">setName</span><span class="token" style="color:#ccc">(</span>e<span class="token" style="color:#ccc">.</span>target<span class="token" style="color:#ccc">.</span>value<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">}</span>
      <span class="token" style="color:#67cdcc">/</span><span class="token" style="color:#67cdcc">&gt;</span>
    <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#999">// Hook</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useLocalStorage</span><span class="token" style="color:#ccc">(</span>key<span class="token" style="color:#ccc">,</span> initialValue<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#999">// State to store our value</span>
  <span class="token" style="color:#999">// Pass initial state function to useState so logic is only executed once</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>storedValue<span class="token" style="color:#ccc">,</span> setStoredValue<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useState</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
    <span class="token" style="color:#cc99cd">try</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#999">// Get from local storage by key</span>
      <span class="token" style="color:#cc99cd">const</span> item <span class="token" style="color:#67cdcc">=</span> window<span class="token" style="color:#ccc">.</span>localStorage<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">getItem</span><span class="token" style="color:#ccc">(</span>key<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#999">// Parse stored json or if none return initialValue</span>
      <span class="token" style="color:#cc99cd">return</span> item <span class="token" style="color:#67cdcc">?</span> <span class="token" style="color:#f8c555">JSON</span><span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">parse</span><span class="token" style="color:#ccc">(</span>item<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">:</span> initialValue<span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">catch</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#f8c555">error</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#999">// If error also return initialValue</span>
      console<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">log</span><span class="token" style="color:#ccc">(</span>error<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#cc99cd">return</span> initialValue<span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span>
  <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#999">// Return a wrapped version of useState&#x27;s setter function that ...</span>
  <span class="token" style="color:#999">// ... persists the new value to localStorage.</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token,function-variable" style="color:#f08d49">setValue</span> <span class="token" style="color:#67cdcc">=</span> value <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
    <span class="token" style="color:#cc99cd">try</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#999">// Allow value to be a function so we have same API as useState</span>
      <span class="token" style="color:#cc99cd">const</span> valueToStore <span class="token" style="color:#67cdcc">=</span>
        value <span class="token" style="color:#cc99cd">instanceof</span> <span class="token" style="color:#f8c555">Function</span> <span class="token" style="color:#67cdcc">?</span> <span class="token" style="color:#f08d49">value</span><span class="token" style="color:#ccc">(</span>storedValue<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">:</span> value<span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#999">// Save state</span>
      <span class="token" style="color:#f08d49">setStoredValue</span><span class="token" style="color:#ccc">(</span>valueToStore<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#999">// Save to local storage</span>
      window<span class="token" style="color:#ccc">.</span>localStorage<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">setItem</span><span class="token" style="color:#ccc">(</span>key<span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f8c555">JSON</span><span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">stringify</span><span class="token" style="color:#ccc">(</span>valueToStore<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">catch</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#f8c555">error</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#999">// A more advanced implementation would handle the error case</span>
      console<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">log</span><span class="token" style="color:#ccc">(</span>error<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span>
  <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">[</span>storedValue<span class="token" style="color:#ccc">,</span> setValue<span class="token" style="color:#ccc">]</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span></code></pre><div class="post__Links-sc-2e98dd-4 fRkwTE"><div class="links-title">üìö Also check out:</div><ul><li class="post__LinksLi-sc-2e98dd-5 irKFRi"><a target="_blank" href="https://github.com/donavon/use-persisted-state">use-persisted-state</a> <!-- -->-<!-- --> <span>A more advanced implementation that syncs between tabs and browser windows.</span></li></ul></div><div class="post__Info-sc-2e98dd-6 level emoXlK"><div class="level-item">October 29, 2018</div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://codesandbox.io/s/qxkr4mplv6">Open in CodeSandbox</a></div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://gist.github.com/gragland/2970ae543df237a07be1dbbf810f23fe">Suggest a change</a></div></div></div><div id="useHover" class="post__Hook-sc-2e98dd-0 jVuqWa"><h2 class="post__Name-sc-2e98dd-2 title is-3 dvaNkX"><i class="fas fa-link link-icon"></i><a href="/useHover/">useHover</a></h2><div class="post__Content-sc-2e98dd-3 laQaxx">Detect whether the mouse is hovering an element. The hook returns a ref
and a boolean value indicating whether the element with that ref is currently being
hovered. So just add the returned ref to any element whose hover state you want
to monitor.</div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.5em;margin:.5em 0;overflow:auto;border-radius:10px"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none">
<span class="token" style="color:#cc99cd">import</span> <span class="token" style="color:#ccc">{</span> useRef<span class="token" style="color:#ccc">,</span> useState<span class="token" style="color:#ccc">,</span> useEffect <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">from</span> <span class="token" style="color:#7ec699">&#x27;react&#x27;</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Usage</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">App</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>hoverRef<span class="token" style="color:#ccc">,</span> isHovered<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useHover</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#67cdcc">&lt;</span>div ref<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span>hoverRef<span class="token" style="color:#ccc">}</span><span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#ccc">{</span>isHovered <span class="token" style="color:#67cdcc">?</span> <span class="token" style="color:#7ec699">&#x27;üòÅ&#x27;</span> <span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;‚òπÔ∏è&#x27;</span><span class="token" style="color:#ccc">}</span>
    <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#999">// Hook</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useHover</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>value<span class="token" style="color:#ccc">,</span> setValue<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useState</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">false</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">const</span> ref <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useRef</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#cc99cd">null</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">const</span> <span class="token,function-variable" style="color:#f08d49">handleMouseOver</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#f08d49">setValue</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">true</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token,function-variable" style="color:#f08d49">handleMouseOut</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#f08d49">setValue</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">false</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#f08d49">useEffect</span><span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#cc99cd">const</span> node <span class="token" style="color:#67cdcc">=</span> ref<span class="token" style="color:#ccc">.</span>current<span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#cc99cd">if</span> <span class="token" style="color:#ccc">(</span>node<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
        node<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">addEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mouseover&#x27;</span><span class="token" style="color:#ccc">,</span> handleMouseOver<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        node<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">addEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mouseout&#x27;</span><span class="token" style="color:#ccc">,</span> handleMouseOut<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

        <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
          node<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">removeEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mouseover&#x27;</span><span class="token" style="color:#ccc">,</span> handleMouseOver<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
          node<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">removeEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mouseout&#x27;</span><span class="token" style="color:#ccc">,</span> handleMouseOut<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span>
    <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">,</span>
    <span class="token" style="color:#ccc">[</span>ref<span class="token" style="color:#ccc">.</span>current<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#999">// Recall only if ref changes</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">[</span>ref<span class="token" style="color:#ccc">,</span> value<span class="token" style="color:#ccc">]</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span></code></pre><div class="post__Info-sc-2e98dd-6 level emoXlK"><div class="level-item">October 30, 2018</div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://codesandbox.io/s/01w2zmj010">Open in CodeSandbox</a></div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://gist.github.com/gragland/cfc4089e2f5d98dde5033adc44da53f8">Suggest a change</a></div></div></div><div id="useWindowSize" class="post__Hook-sc-2e98dd-0 jVuqWa"><h2 class="post__Name-sc-2e98dd-2 title is-3 dvaNkX"><i class="fas fa-link link-icon"></i><a href="/useWindowSize/">useWindowSize</a></h2><div class="post__Content-sc-2e98dd-3 laQaxx">A really common need is to get the current size of the browser window.
This hook returns an object containing the window's width and height. If executed
server-side (no window object) the value of width and height will be undefined.</div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.5em;margin:.5em 0;overflow:auto;border-radius:10px"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc99cd">import</span> <span class="token" style="color:#ccc">{</span> useState<span class="token" style="color:#ccc">,</span> useEffect <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">from</span> <span class="token" style="color:#7ec699">&#x27;react&#x27;</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Usage</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">App</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#cc99cd">const</span> size <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useWindowSize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#67cdcc">&lt;</span>div<span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#ccc">{</span>size<span class="token" style="color:#ccc">.</span>width<span class="token" style="color:#ccc">}</span>px <span class="token" style="color:#67cdcc">/</span> <span class="token" style="color:#ccc">{</span>size<span class="token" style="color:#ccc">.</span>height<span class="token" style="color:#ccc">}</span>px
    <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#999">// Hook</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useWindowSize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#cc99cd">const</span> isClient <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#cc99cd">typeof</span> window <span class="token" style="color:#67cdcc">===</span> <span class="token" style="color:#7ec699">&#x27;object&#x27;</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">getSize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
    <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">{</span>
      width<span class="token" style="color:#ccc">:</span> isClient <span class="token" style="color:#67cdcc">?</span> window<span class="token" style="color:#ccc">.</span>innerWidth <span class="token" style="color:#ccc">:</span> undefined<span class="token" style="color:#ccc">,</span>
      height<span class="token" style="color:#ccc">:</span> isClient <span class="token" style="color:#67cdcc">?</span> window<span class="token" style="color:#ccc">.</span>innerHeight <span class="token" style="color:#ccc">:</span> undefined
    <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#ccc">}</span>

  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>windowSize<span class="token" style="color:#ccc">,</span> setWindowSize<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useState</span><span class="token" style="color:#ccc">(</span>getSize<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#f08d49">useEffect</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
    <span class="token" style="color:#cc99cd">if</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#67cdcc">!</span>isClient<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#f08d49">false</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span>
    
    <span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">handleResize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#f08d49">setWindowSize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">getSize</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span>

    window<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">addEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;resize&#x27;</span><span class="token" style="color:#ccc">,</span> handleResize<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> window<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">removeEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;resize&#x27;</span><span class="token" style="color:#ccc">,</span> handleResize<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#ccc">[</span><span class="token" style="color:#ccc">]</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span> <span class="token" style="color:#999">// Empty array ensures that effect is only run on mount and unmount</span>

  <span class="token" style="color:#cc99cd">return</span> windowSize<span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span></code></pre><div class="post__Info-sc-2e98dd-6 level emoXlK"><div class="level-item">October 31, 2018</div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://codesandbox.io/s/jj61r2w6z5">Open in CodeSandbox</a></div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://gist.github.com/gragland/4e3d9b1c934a18dc76f585350f97e321">Suggest a change</a></div></div></div><div id="useAnimation" class="post__Hook-sc-2e98dd-0 jVuqWa"><h2 class="post__Name-sc-2e98dd-2 title is-3 dvaNkX"><i class="fas fa-link link-icon"></i><a href="/useAnimation/">useAnimation</a></h2><div class="post__Content-sc-2e98dd-3 laQaxx">This hook allows you to smoothly animate any value using an easing function (linear, elastic, etc). In the example we call the useAnimation hook three times to animated three balls on to the screen at different intervals. Additionally we show how easy it is to compose hooks. Our useAnimation hook doesn't actual make use of useState or useEffect itself, but instead serves as a wrapper around the‚Ä¶</div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.5em;margin:.5em 0;overflow:auto;border-radius:10px"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc99cd">import</span> <span class="token" style="color:#ccc">{</span> useState<span class="token" style="color:#ccc">,</span> useEffect <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">from</span> <span class="token" style="color:#7ec699">&#x27;react&#x27;</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Usage</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">App</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#999">// Call hook multiple times to get animated values with different start delays</span>
  <span class="token" style="color:#cc99cd">const</span> animation1 <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useAnimation</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;elastic&#x27;</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">600</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">0</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#cc99cd">const</span> animation2 <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useAnimation</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;elastic&#x27;</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">600</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">150</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#cc99cd">const</span> animation3 <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useAnimation</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;elastic&#x27;</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">600</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">300</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#67cdcc">&lt;</span>div style<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">{</span> display<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;flex&#x27;</span><span class="token" style="color:#ccc">,</span> justifyContent<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;center&#x27;</span> <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">}</span><span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#67cdcc">&lt;</span>Ball
        innerStyle<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">{</span>
          marginTop<span class="token" style="color:#ccc">:</span> animation1 <span class="token" style="color:#67cdcc">*</span> <span class="token" style="color:#f08d49">200</span> <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">100</span>
        <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">}</span>
      <span class="token" style="color:#67cdcc">/</span><span class="token" style="color:#67cdcc">&gt;</span>

      <span class="token" style="color:#67cdcc">&lt;</span>Ball
        innerStyle<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">{</span>
          marginTop<span class="token" style="color:#ccc">:</span> animation2 <span class="token" style="color:#67cdcc">*</span> <span class="token" style="color:#f08d49">200</span> <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">100</span>
        <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">}</span>
      <span class="token" style="color:#67cdcc">/</span><span class="token" style="color:#67cdcc">&gt;</span>

      <span class="token" style="color:#67cdcc">&lt;</span>Ball
        innerStyle<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">{</span>
          marginTop<span class="token" style="color:#ccc">:</span> animation3 <span class="token" style="color:#67cdcc">*</span> <span class="token" style="color:#f08d49">200</span> <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">100</span>
        <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">}</span>
      <span class="token" style="color:#67cdcc">/</span><span class="token" style="color:#67cdcc">&gt;</span>
    <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#cc99cd">const</span> <span class="token,function-variable" style="color:#f08d49">Ball</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">{</span> innerStyle <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">(</span>
  <span class="token" style="color:#67cdcc">&lt;</span>div
    style<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">{</span>
      width<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#f08d49">100</span><span class="token" style="color:#ccc">,</span>
      height<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#f08d49">100</span><span class="token" style="color:#ccc">,</span>
      marginRight<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;40px&#x27;</span><span class="token" style="color:#ccc">,</span>
      borderRadius<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;50px&#x27;</span><span class="token" style="color:#ccc">,</span>
      backgroundColor<span class="token" style="color:#ccc">:</span> <span class="token" style="color:#7ec699">&#x27;#4dd5fa&#x27;</span><span class="token" style="color:#ccc">,</span>
      <span class="token" style="color:#67cdcc">...</span>innerStyle
    <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">}</span>
  <span class="token" style="color:#67cdcc">/</span><span class="token" style="color:#67cdcc">&gt;</span>
<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Hook </span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useAnimation</span><span class="token" style="color:#ccc">(</span>
  easingName <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#7ec699">&#x27;linear&#x27;</span><span class="token" style="color:#ccc">,</span>
  duration <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">500</span><span class="token" style="color:#ccc">,</span>
  delay <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">0</span>
<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#999">// The useAnimationTimer hook calls useState every animation frame ...</span>
  <span class="token" style="color:#999">// ... giving us elapsed time and causing a rerender as frequently ...</span>
  <span class="token" style="color:#999">// ... as possible for a smooth animation.</span>
  <span class="token" style="color:#cc99cd">const</span> elapsed <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useAnimationTimer</span><span class="token" style="color:#ccc">(</span>duration<span class="token" style="color:#ccc">,</span> delay<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#999">// Amount of specified duration elapsed on a scale from 0 - 1</span>
  <span class="token" style="color:#cc99cd">const</span> n <span class="token" style="color:#67cdcc">=</span> Math<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">min</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">1</span><span class="token" style="color:#ccc">,</span> elapsed <span class="token" style="color:#67cdcc">/</span> duration<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#999">// Return altered value based on our specified easing function</span>
  <span class="token" style="color:#cc99cd">return</span> easing<span class="token" style="color:#ccc">[</span>easingName<span class="token" style="color:#ccc">]</span><span class="token" style="color:#ccc">(</span>n<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#999">// Some easing functions copied from:</span>
<span class="token" style="color:#999">// https://github.com/streamich/ts-easing/blob/master/src/index.ts</span>
<span class="token" style="color:#999">// Hardcode here or pull in a dependency</span>
<span class="token" style="color:#cc99cd">const</span> easing <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#ccc">{</span>
  linear<span class="token" style="color:#ccc">:</span> n <span class="token" style="color:#67cdcc">=&gt;</span> n<span class="token" style="color:#ccc">,</span>
  elastic<span class="token" style="color:#ccc">:</span> n <span class="token" style="color:#67cdcc">=&gt;</span>
    n <span class="token" style="color:#67cdcc">*</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">33</span> <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">106</span> <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">+</span> <span class="token" style="color:#f08d49">126</span> <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">67</span> <span class="token" style="color:#67cdcc">*</span> n <span class="token" style="color:#67cdcc">+</span> <span class="token" style="color:#f08d49">15</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">,</span>
  inExpo<span class="token" style="color:#ccc">:</span> n <span class="token" style="color:#67cdcc">=&gt;</span> Math<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">pow</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">2</span><span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f08d49">10</span> <span class="token" style="color:#67cdcc">*</span> <span class="token" style="color:#ccc">(</span>n <span class="token" style="color:#67cdcc">-</span> <span class="token" style="color:#f08d49">1</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">)</span>
<span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useAnimationTimer</span><span class="token" style="color:#ccc">(</span>duration <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">1000</span><span class="token" style="color:#ccc">,</span> delay <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">0</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>elapsed<span class="token" style="color:#ccc">,</span> setTime<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useState</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">0</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#f08d49">useEffect</span><span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#cc99cd">let</span> animationFrame<span class="token" style="color:#ccc">,</span> timerStop<span class="token" style="color:#ccc">,</span> start<span class="token" style="color:#ccc">;</span>

      <span class="token" style="color:#999">// Function to be executed on each animation frame</span>
      <span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">onFrame</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
        <span class="token" style="color:#f08d49">setTime</span><span class="token" style="color:#ccc">(</span>Date<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">now</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">-</span> start<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#f08d49">loop</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span>

      <span class="token" style="color:#999">// Call onFrame() on next animation frame</span>
      <span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">loop</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
        animationFrame <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">requestAnimationFrame</span><span class="token" style="color:#ccc">(</span>onFrame<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span>

      <span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">onStart</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
        <span class="token" style="color:#999">// Set a timeout to stop things when duration time elapses</span>
        timerStop <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">setTimeout</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
          <span class="token" style="color:#f08d49">cancelAnimationFrame</span><span class="token" style="color:#ccc">(</span>animationFrame<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
          <span class="token" style="color:#f08d49">setTime</span><span class="token" style="color:#ccc">(</span>Date<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">now</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">-</span> start<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">,</span> duration<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

        <span class="token" style="color:#999">// Start the loop</span>
        start <span class="token" style="color:#67cdcc">=</span> Date<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">now</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#f08d49">loop</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span>

      <span class="token" style="color:#999">// Start after specified delay (defaults to 0)</span>
      <span class="token" style="color:#cc99cd">const</span> timerDelay <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">setTimeout</span><span class="token" style="color:#ccc">(</span>onStart<span class="token" style="color:#ccc">,</span> delay<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

      <span class="token" style="color:#999">// Clean things up</span>
      <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
        <span class="token" style="color:#f08d49">clearTimeout</span><span class="token" style="color:#ccc">(</span>timerStop<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#f08d49">clearTimeout</span><span class="token" style="color:#ccc">(</span>timerDelay<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#f08d49">cancelAnimationFrame</span><span class="token" style="color:#ccc">(</span>animationFrame<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">,</span>
    <span class="token" style="color:#ccc">[</span>duration<span class="token" style="color:#ccc">,</span> delay<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#999">// Only re-run effect if duration or delay changes</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> elapsed<span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span></code></pre><div class="post__Info-sc-2e98dd-6 level emoXlK"><div class="level-item">November 02, 2018</div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://codesandbox.io/s/qxnmn1n45q">Open in CodeSandbox</a></div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://gist.github.com/gragland/28e628fb347afb908e945d43f9068d45">Suggest a change</a></div></div></div><div id="useOnClickOutside" class="post__Hook-sc-2e98dd-0 jVuqWa"><h2 class="post__Name-sc-2e98dd-2 title is-3 dvaNkX"><i class="fas fa-link link-icon"></i><a href="/useOnClickOutside/">useOnClickOutside</a></h2><div class="post__Content-sc-2e98dd-3 laQaxx">This hook allows you to detect clicks outside of a specified element.
In the example below we use it to close a modal when any element outside of the
modal is clicked. By abstracting this logic out into a hook we can easily use it
across all of our components that need this kind of functionality (dropdown menus,
tooltips, etc).</div><pre style="color:#ccc;background:#2d2d2d;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1.5em;margin:.5em 0;overflow:auto;border-radius:10px"><code style="color:#ccc;background:none;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#cc99cd">import</span> <span class="token" style="color:#ccc">{</span> useState<span class="token" style="color:#ccc">,</span> useEffect<span class="token" style="color:#ccc">,</span> useRef <span class="token" style="color:#ccc">}</span> <span class="token" style="color:#cc99cd">from</span> <span class="token" style="color:#7ec699">&#x27;react&#x27;</span><span class="token" style="color:#ccc">;</span>

<span class="token" style="color:#999">// Usage</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">App</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#999">// Create a ref that we add to the element for which we want to detect outside clicks</span>
  <span class="token" style="color:#cc99cd">const</span> ref <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useRef</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#999">// State for our modal</span>
  <span class="token" style="color:#cc99cd">const</span> <span class="token" style="color:#ccc">[</span>isModalOpen<span class="token" style="color:#ccc">,</span> setModalOpen<span class="token" style="color:#ccc">]</span> <span class="token" style="color:#67cdcc">=</span> <span class="token" style="color:#f08d49">useState</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">false</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
  <span class="token" style="color:#999">// Call hook passing in the ref and a function to call on outside click</span>
  <span class="token" style="color:#f08d49">useOnClickOutside</span><span class="token" style="color:#ccc">(</span>ref<span class="token" style="color:#ccc">,</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#f08d49">setModalOpen</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">false</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

  <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#67cdcc">&lt;</span>div<span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#ccc">{</span>isModalOpen <span class="token" style="color:#67cdcc">?</span> <span class="token" style="color:#ccc">(</span>
        <span class="token" style="color:#67cdcc">&lt;</span>div ref<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span>ref<span class="token" style="color:#ccc">}</span><span class="token" style="color:#67cdcc">&gt;</span>
          üëã Hey<span class="token" style="color:#ccc">,</span> <span class="token" style="color:#f8c555">I</span>&#x27;m a modal<span class="token" style="color:#ccc">.</span> Click anywhere outside <span class="token" style="color:#cc99cd">of</span> me to close<span class="token" style="color:#ccc">.</span>
        <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">:</span> <span class="token" style="color:#ccc">(</span>
        <span class="token" style="color:#67cdcc">&lt;</span>button onClick<span class="token" style="color:#67cdcc">=</span><span class="token" style="color:#ccc">{</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#f08d49">setModalOpen</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#f08d49">true</span><span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">}</span><span class="token" style="color:#67cdcc">&gt;</span>Open Modal<span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>button<span class="token" style="color:#67cdcc">&gt;</span>
      <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">}</span>
    <span class="token" style="color:#67cdcc">&lt;</span><span class="token" style="color:#67cdcc">/</span>div<span class="token" style="color:#67cdcc">&gt;</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span>

<span class="token" style="color:#999">// Hook</span>
<span class="token" style="color:#cc99cd">function</span> <span class="token" style="color:#f08d49">useOnClickOutside</span><span class="token" style="color:#ccc">(</span>ref<span class="token" style="color:#ccc">,</span> handler<span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
  <span class="token" style="color:#f08d49">useEffect</span><span class="token" style="color:#ccc">(</span>
    <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
      <span class="token" style="color:#cc99cd">const</span> <span class="token,function-variable" style="color:#f08d49">listener</span> <span class="token" style="color:#67cdcc">=</span> event <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
        <span class="token" style="color:#999">// Do nothing if clicking ref&#x27;s element or descendent elements</span>
        <span class="token" style="color:#cc99cd">if</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#67cdcc">!</span>ref<span class="token" style="color:#ccc">.</span>current <span class="token" style="color:#67cdcc">||</span> ref<span class="token" style="color:#ccc">.</span>current<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">contains</span><span class="token" style="color:#ccc">(</span>event<span class="token" style="color:#ccc">.</span>target<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#ccc">{</span>
          <span class="token" style="color:#cc99cd">return</span><span class="token" style="color:#ccc">;</span>
        <span class="token" style="color:#ccc">}</span>

        <span class="token" style="color:#f08d49">handler</span><span class="token" style="color:#ccc">(</span>event<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>

      document<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">addEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mousedown&#x27;</span><span class="token" style="color:#ccc">,</span> listener<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      document<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">addEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;touchstart&#x27;</span><span class="token" style="color:#ccc">,</span> listener<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>

      <span class="token" style="color:#cc99cd">return</span> <span class="token" style="color:#ccc">(</span><span class="token" style="color:#ccc">)</span> <span class="token" style="color:#67cdcc">=&gt;</span> <span class="token" style="color:#ccc">{</span>
        document<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">removeEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;mousedown&#x27;</span><span class="token" style="color:#ccc">,</span> listener<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
        document<span class="token" style="color:#ccc">.</span><span class="token" style="color:#f08d49">removeEventListener</span><span class="token" style="color:#ccc">(</span><span class="token" style="color:#7ec699">&#x27;touchstart&#x27;</span><span class="token" style="color:#ccc">,</span> listener<span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
      <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">;</span>
    <span class="token" style="color:#ccc">}</span><span class="token" style="color:#ccc">,</span>
    <span class="token" style="color:#999">// Add ref and handler to effect dependencies</span>
    <span class="token" style="color:#999">// It&#x27;s worth noting that because passed in handler is a new ...</span>
    <span class="token" style="color:#999">// ... function on every render that will cause this effect ...</span>
    <span class="token" style="color:#999">// ... callback/cleanup to run every render. It&#x27;s not a big deal ...</span>
    <span class="token" style="color:#999">// ... but to optimize you can wrap handler in useCallback before ...</span>
    <span class="token" style="color:#999">// ... passing it into this hook.</span>
    <span class="token" style="color:#ccc">[</span>ref<span class="token" style="color:#ccc">,</span> handler<span class="token" style="color:#ccc">]</span>
  <span class="token" style="color:#ccc">)</span><span class="token" style="color:#ccc">;</span>
<span class="token" style="color:#ccc">}</span></code></pre><div class="post__Links-sc-2e98dd-4 fRkwTE"><div class="links-title">üìö Also check out:</div><ul><li class="post__LinksLi-sc-2e98dd-5 irKFRi"><a target="_blank" href="https://github.com/Andarist/use-onclickoutside">Andarist/use-onclickoutside</a> <!-- -->-<!-- --> <span>Similar logic implemented as a library. Also accounts for passive events. Good choice if you want to pull something from github/npm.</span></li></ul></div><div class="post__Info-sc-2e98dd-6 level emoXlK"><div class="level-item">November 05, 2018</div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://codesandbox.io/s/23jk7wlw4y">Open in CodeSandbox</a></div><div class="level-item is-hidden-mobile"><span>‚Ä¢</span></div><div class="level-item"><a target="_blank" href="https://gist.github.com/gragland/81a678775c30edfdbb224243fc0d1ec4">Suggest a change</a></div></div></div><div class="PaginationContainer-sc-1b99478-0 fgZMzm"><span>&lt;&lt;&lt; Previous</span><span> Page 1 of 4</span><a href="/2">Next &gt;&gt;&gt;</a></div></div></div><div class="hero is-bold is-primary has-text-centered"><div class="hero-body"><div class="Layout__FooterLevel-im5snh-3 level cTEpKZ"><div class="level-item"><a aria-current="page" class="" href="/">Home</a></div><div class="level-item is-hidden-mobile"><span>/</span></div><div class="level-item"><a target="_blank" href="https://twitter.com/gabe_ragland">Twitter</a></div><div class="level-item is-hidden-mobile"><span>/</span></div><div class="level-item"><a target="_blank" href="https://github.com/gragland/usehooks">Github</a></div><div class="level-item is-hidden-mobile"><span>/</span></div><div class="level-item"><a target="_blank" href="/rss.xml">RSS</a></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-index-js","jsonName":"index","path":"/"};window.dataPath="62/path---index-6a9-XeIDjV6ciO14I97F9Ki4mYaOc9M";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-70579be4799c1d6ff4af.js"],"component---src-templates-index-js":["/component---src-templates-index-js.3277c80a525f7997aac8.css","/component---src-templates-index-js-3f4cacca266defdca369.js"],"component---src-templates-post-js":["/component---src-templates-post-js.3277c80a525f7997aac8.css","/component---src-templates-post-js-21dc836d3d057e1dbf39.js"],"component---src-pages-404-js":["/component---src-pages-404-js.3277c80a525f7997aac8.css","/component---src-pages-404-js-a563c37a138ca670ed4d.js"],"pages-manifest":["/pages-manifest-1229fdad5011ee4a54f0.js"]};/*]]>*/</script><script src="/webpack-runtime-cfd40930d26935043616.js" async=""></script><script src="/0-f605661e9cb8590cff89.js" async=""></script><script src="/1-bc194b54df00e517c61d.js" async=""></script><script src="/app-70579be4799c1d6ff4af.js" async=""></script><script src="/component---src-templates-index-js-3f4cacca266defdca369.js" async=""></script></body></html>